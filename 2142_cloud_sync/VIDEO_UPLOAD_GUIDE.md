# 🎥 دليل رفع الفيديوهات للقصص

## ✨ الميزات الجديدة

تم إضافة نظام متكامل لرفع الفيديوهات والصور مع القصص!

---

## 📂 البنية الجديدة

### **1. مجلدات التخزين:**
```
static/
├── uploads/
│   ├── videos/     ← الفيديوهات المرفوعة
│   └── images/     ← الصور المرفوعة
```

**ملاحظة:** المجلدات تُنشأ تلقائياً عند تشغيل التطبيق

---

## 🎬 كيفية إضافة قصة بفيديو

### **الخطوة 1: اذهب إلى Dashboard**
```
http://localhost:5000/dashboard
```

### **الخطوة 2: اضغط "إضافة قصة جديدة"**
أو اذهب مباشرة إلى:
```
http://localhost:5000/dashboard/stories/add
```

### **الخطوة 3: املأ البيانات**

#### **📝 بيانات اللغة العربية:**
- ✅ عنوان القصة (عربي) - **مطلوب**
- ✅ اسم صاحب القصة (عربي) - اختياري
- ✅ ملخص القصة (عربي) - يظهر في الصفحة الرئيسية
- ✅ محتوى القصة الكامل (عربي) - **مطلوب**

#### **📝 بيانات اللغة الإنجليزية:**
- ✅ Story Title (English) - **مطلوب**
- ✅ Author Name (English) - اختياري
- ✅ Story Summary (English) - يظهر في الصفحة الرئيسية
- ✅ Full Story Content (English) - **مطلوب**

#### **📅 بيانات إضافية:**
- تاريخ القصة
- رابط الصورة (أو رفع من الجهاز)

#### **🎥 رفع الوسائط:**

**رفع الصورة:**
- الصيغ المسموحة: `PNG, JPG, JPEG, GIF, WEBP`
- الحد الأقصى: `5 ميجابايت`
- ستظهر في: الصفحة الرئيسية + صفحة التفاصيل

**رفع الفيديو:**
- الصيغ المسموحة: `MP4, AVI, MOV, WMV, WEBM, MKV`
- الحد الأقصى: `100 ميجابايت`
- سيظهر في: صفحة التفاصيل فقط ✨

---

## 🌟 كيف يعمل النظام؟

### **1️⃣ في الصفحة الرئيسية (Home):**
- تعرض آخر 3 قصص
- كل قصة تعرض:
  - ✅ الصورة (إذا كانت موجودة)
  - ✅ العنوان
  - ✅ اسم الكاتب
  - ✅ الملخص (150 حرف)
  - ✅ زر "اقرأ القصة كاملة"

### **2️⃣ في صفحة جميع القصص (/stories):**
- تعرض جميع القصص في grid جميل
- كل قصة تعرض:
  - ✅ الصورة
  - ✅ العنوان
  - ✅ اسم الكاتب
  - ✅ التاريخ
  - ✅ الملخص (200 حرف)
  - ✅ زر "Read Full Story"

### **3️⃣ في صفحة تفاصيل القصة (/story/<id>):**
- **الفيديو يظهر هنا!** 🎬
- الصورة
- العنوان الكامل
- اسم الكاتب
- التاريخ
- المحتوى الكامل للقصة
- أزرار للتنقل

---

## 🔧 التفاصيل التقنية

### **قاعدة البيانات:**
```sql
stories (
    id INTEGER,
    title_ar TEXT,
    title_en TEXT,
    summary_ar TEXT,
    summary_en TEXT,
    content_ar TEXT,
    content_en TEXT,
    author_name_ar TEXT,
    author_name_en TEXT,
    story_date DATE,
    image_url TEXT,
    video_path TEXT,  ← جديد!
    created_at TIMESTAMP,
    updated_at TIMESTAMP
)
```

### **نظام الحماية:**
- ✅ فحص نوع الملف قبل الرفع
- ✅ استخدام `secure_filename()` لحماية أسماء الملفات
- ✅ إضافة timestamp لجعل أسماء الملفات فريدة
- ✅ حد أقصى لحجم الملفات
- ✅ قبول صيغ معينة فقط

### **معاينة الملفات:**
- معاينة فورية للصورة قبل الرفع
- عرض معلومات الفيديو (الاسم والحجم)

---

## 📱 أمثلة عملية

### **مثال 1: إضافة قصة بفيديو وصورة**
1. اذهب إلى Dashboard → إضافة قصة
2. املأ العنوان بالعربي: "رحلتي إلى كندا"
3. املأ العنوان بالإنجليزي: "My Journey to Canada"
4. أضف الملخص والمحتوى الكامل
5. ارفع صورة من جهازك (مثل: صورة شخصية)
6. ارفع فيديو (مثل: فيديو قصير عن التجربة)
7. احفظ!

### **النتيجة:**
- ✅ الصفحة الرئيسية: تعرض الصورة + الملخص
- ✅ صفحة التفاصيل: تعرض الفيديو + الصورة + المحتوى الكامل

---

## ⚠️ ملاحظات مهمة

### **1. حجم الفيديوهات:**
- لا تتجاوز 100 ميجابايت للفيديو الواحد
- إذا كان الفيديو أكبر، قم بضغطه أولاً

### **2. الصيغ المفضلة:**
- **للفيديو:** MP4 (الأكثر توافقاً)
- **للصور:** WEBP أو JPG (حجم أصغر)

### **3. الأداء:**
- الفيديوهات تُحفظ محلياً في `static/uploads/videos/`
- لا يتم رفعها لخدمة خارجية
- لضمان أداء جيد، استخدم فيديوهات بدقة معقولة (720p أو 1080p)

### **4. النسخ الاحتياطي:**
- تذكر عمل backup لمجلد `static/uploads/` بشكل دوري
- قاعدة البيانات في ملف `website_content.db`

---

## 🎯 استخدامات مقترحة

### **1. قصص العملاء بالفيديو:**
- شهادات فيديو من عملاء حقيقيين
- مقابلات مع ناجحين في الهجرة
- جولات في الحياة الجديدة

### **2. محتوى تعليمي:**
- فيديوهات شرح عملية التقديم
- نصائح للمهاجرين الجدد
- معلومات عن الدول

### **3. تسويق الخدمات:**
- عرض قصص النجاح بشكل احترافي
- زيادة مصداقية الموقع
- جذب عملاء جدد

---

## 🚀 ترقيات مستقبلية (اختيارية)

إذا أردت تحسينات إضافية:

1. **ضغط الفيديو تلقائياً:**
   - استخدام FFmpeg لتقليل حجم الفيديوهات
   
2. **رفع لـ YouTube:**
   - رفع الفيديوهات الكبيرة على YouTube
   - حفظ الرابط فقط في قاعدة البيانات

3. **ترجمات للفيديو:**
   - إضافة ملفات SRT للترجمة
   
4. **معرض صور:**
   - رفع عدة صور لكل قصة
   - عرضها في slider

---

## 📞 الدعم

إذا واجهت أي مشاكل:
1. تأكد من وجود مجلد `static/uploads/videos/`
2. تأكد من صلاحيات الكتابة على المجلد
3. تحقق من حجم الملف (لا يتجاوز الحد المسموح)
4. تأكد من صيغة الملف المرفوع

---

## ✅ خلاصة

الآن لديك نظام متكامل لـ:
- ✨ رفع فيديوهات وصور
- 🌐 دعم ثنائي اللغة
- 📱 عرض احترافي للقصص
- 🎬 صفحة مخصصة لكل قصة بالفيديو
- 🖼️ معاينة فورية للملفات
- 🔒 نظام حماية للملفات

**استمتع بإضافة قصص نجاح رائعة مع فيديوهات ملهمة!** 🎉

